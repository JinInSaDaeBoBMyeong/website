# Lorg/webrtc/HardwareVideoEncoder;->encode(Lorg/webrtc/VideoFrame; Lorg/webrtc/VideoEncoder$EncodeInfo;)Lorg/webrtc/VideoCodecStatus; [access_flags=public]
#
# Parameters:
# - local registers: v0...v26
# - v27:org.webrtc.VideoFrame
# - v28:org.webrtc.VideoEncoder$EncodeInfo
#
# - return:org.webrtc.VideoCodecStatus

encode-BB@0x0 : [ encode-BB@0xc encode-BB@0x12 ]
	0       (00000000) move-object/from16   v0, v26
	1       (00000004) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->codec Landroid/media/MediaCodec;
	2       (00000008) if-nez               v4, +5

encode-BB@0xc : [ encode-BB@0x10 ]
	3       (0000000c) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->UNINITIALIZED Lorg/webrtc/VideoCodecStatus;

encode-BB@0x10 : 
	4       (00000010) return-object        v21

encode-BB@0x12 : [ encode-BB@0x32 encode-BB@0x3e ]
	5       (00000012) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getWidth()I
	6       (00000018) move-result          v16
	7       (0000001a) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getHeight()I
	8       (00000020) move-result          v14
	9       (00000022) move-object/from16   v0, v26
	10      (00000026) iget                 v4, v0, Lorg/webrtc/HardwareVideoEncoder;->width I
	11      (0000002a) move/from16          v0, v16
	12      (0000002e) if-ne                v0, v4, +8

encode-BB@0x32 : [ encode-BB@0x3e encode-BB@0x5a ]
	13      (00000032) move-object/from16   v0, v26
	14      (00000036) iget                 v4, v0, Lorg/webrtc/HardwareVideoEncoder;->height I
	15      (0000003a) if-eq                v14, v4, +10

encode-BB@0x3e : [ encode-BB@0x5a encode-BB@0x10 ]
	16      (0000003e) move-object/from16   v0, v26
	17      (00000042) move/from16          v1, v16
	18      (00000046) invoke-direct        v0, v1, v14, Lorg/webrtc/HardwareVideoEncoder;->resetCodec(I I)Lorg/webrtc/VideoCodecStatus;
	19      (0000004c) move-result-object   v21
	20      (0000004e) sget-object          v4, Lorg/webrtc/VideoCodecStatus;->OK Lorg/webrtc/VideoCodecStatus;
	21      (00000052) move-object/from16   v0, v21
	22      (00000056) if-ne                v0, v4, -23

encode-BB@0x5a : [ encode-BB@0x78 encode-BB@0xa2 ]
	23      (0000005a) move-object/from16   v0, v26
	24      (0000005e) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->codec Landroid/media/MediaCodec;
	25      (00000062) const-wide/16        v22, 0 # [0.0]
	26      (00000066) move-wide/from16     v0, v22
	27      (0000006a) invoke-virtual       v4, v0, v1, Landroid/media/MediaCodec;->dequeueInputBuffer(J)I
	28      (00000070) move-result          v5
	29      (00000072) const/4              v4, -1
	30      (00000074) if-ne                v5, v4, +17
	5a:6f
	(Ljava/lang/IllegalStateException; -> 8c encode-BB@0x8c)

encode-BB@0x78 : [ encode-BB@0x10 ]
	31      (00000078) const-string         v4, 'HardwareVideoEncoder'
	32      (0000007c) const-string         v6, 'Dropped frame, no input buffers available'
	33      (00000080) invoke-static        v4, v6, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String;)V
	34      (00000086) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->OK Lorg/webrtc/VideoCodecStatus;
	35      (0000008a) goto                 -3d

encode-BB@0x8c : [ encode-BB@0x10 ]
	36      (0000008c) move-exception       v13
	37      (0000008e) const-string         v4, 'HardwareVideoEncoder'
	38      (00000092) const-string         v6, 'dequeueInputBuffer failed'
	39      (00000096) invoke-static        v4, v6, v13, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String; Ljava/lang/Throwable;)V
	40      (0000009c) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->FALLBACK_SOFTWARE Lorg/webrtc/VideoCodecStatus;
	41      (000000a0) goto                 -48

encode-BB@0xa2 : [ encode-BB@0xb8 encode-BB@0xcc ]
	42      (000000a2) move-object/from16   v0, v26
	43      (000000a6) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->outputBuilders Ljava/util/Deque;
	44      (000000aa) invoke-interface     v4, Ljava/util/Deque;->size()I
	45      (000000b0) move-result          v4
	46      (000000b2) const/4              v6, 2
	47      (000000b4) if-le                v4, v6, +c

encode-BB@0xb8 : [ encode-BB@0x10 ]
	48      (000000b8) const-string         v4, 'HardwareVideoEncoder'
	49      (000000bc) const-string         v6, 'Dropped frame, encoder queue full'
	50      (000000c0) invoke-static        v4, v6, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String;)V
	51      (000000c6) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->OK Lorg/webrtc/VideoCodecStatus;
	52      (000000ca) goto                 -5d

encode-BB@0xcc : [ encode-BB@0x112 ]
	53      (000000cc) move-object/from16   v0, v26
	54      (000000d0) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->codec Landroid/media/MediaCodec;
	55      (000000d4) invoke-virtual       v4, Landroid/media/MediaCodec;->getInputBuffers()[Ljava/nio/ByteBuffer;
	56      (000000da) move-result-object   v4
	57      (000000dc) aget-object          v11, v4, v5
	58      (000000e0) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getBuffer()Lorg/webrtc/VideoFrame$Buffer;
	59      (000000e6) move-result-object   v4
	60      (000000e8) invoke-interface     v4, Lorg/webrtc/VideoFrame$Buffer;->toI420()Lorg/webrtc/VideoFrame$I420Buffer;
	61      (000000ee) move-result-object   v17
	62      (000000f0) move-object/from16   v0, v26
	63      (000000f4) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->inputColorFormat Lorg/webrtc/HardwareVideoEncoder$ColorFormat;
	64      (000000f8) move-object/from16   v0, v17
	65      (000000fc) invoke-virtual       v4, v11, v0, Lorg/webrtc/HardwareVideoEncoder$ColorFormat;->fillBufferFromI420(Ljava/nio/ByteBuffer; Lorg/webrtc/VideoFrame$I420Buffer;)V
	66      (00000102) const/16             v20, 0
	67      (00000106) move-object/from16   v0, v28
	68      (0000010a) iget-object          v6, v0, Lorg/webrtc/VideoEncoder$EncodeInfo;->frameTypes [Lorg/webrtc/EncodedImage$FrameType;
	69      (0000010e) array-length         v10, v6
	70      (00000110) const/4              v4, 0
	cc:df
	(Ljava/lang/IllegalStateException; -> 130 encode-BB@0x130)

encode-BB@0x112 : [ encode-BB@0x116 encode-BB@0x148 ]
	71      (00000112) if-ge                v4, v10, +1b

encode-BB@0x116 : [ encode-BB@0x126 encode-BB@0x12a ]
	72      (00000116) aget-object          v15, v6, v4
	73      (0000011a) sget-object          v22, Lorg/webrtc/EncodedImage$FrameType;->VideoFrameKey Lorg/webrtc/EncodedImage$FrameType;
	74      (0000011e) move-object/from16   v0, v22
	75      (00000122) if-ne                v15, v0, +4

encode-BB@0x126 : [ encode-BB@0x12a ]
	76      (00000126) const/16             v20, 1

encode-BB@0x12a : [ encode-BB@0x112 ]
	77      (0000012a) add-int/lit8         v4, v4, 1
	78      (0000012e) goto                 -e

encode-BB@0x130 : [ encode-BB@0x10 ]
	79      (00000130) move-exception       v13
	80      (00000132) const-string         v4, 'HardwareVideoEncoder'
	81      (00000136) const-string         v6, 'getInputBuffers failed'
	82      (0000013a) invoke-static        v4, v6, v13, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String; Ljava/lang/Throwable;)V
	83      (00000140) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->FALLBACK_SOFTWARE Lorg/webrtc/VideoCodecStatus;
	84      (00000144) goto/16              -9a

encode-BB@0x148 : [ encode-BB@0x174 encode-BB@0x188 ]
	85      (00000148) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getTimestampNs()J
	86      (0000014e) move-result-wide     v22
	87      (00000150) const-wide/16        v24, 500 # [500.0]
	88      (00000154) add-long             v22, v22, v24
	89      (00000158) const-wide/16        v24, 1000 # [1000.0]
	90      (0000015c) div-long             v8, v22, v24
	91      (00000160) const-wide/16        v22, 500 # [500.0]
	92      (00000164) add-long             v22, v22, v8
	93      (00000168) const-wide/16        v24, 1000 # [1000.0]
	94      (0000016c) div-long             v18, v22, v24
	95      (00000170) if-nez               v20, +c

encode-BB@0x174 : [ encode-BB@0x188 encode-BB@0x196 ]
	96      (00000174) move-object/from16   v0, v26
	97      (00000178) move-wide/from16     v1, v18
	98      (0000017c) invoke-direct        v0, v1, v2, Lorg/webrtc/HardwareVideoEncoder;->shouldForceKeyFrame(J)Z
	99      (00000182) move-result          v4
	100     (00000184) if-eqz               v4, +9

encode-BB@0x188 : [ encode-BB@0x196 ]
	101     (00000188) move-object/from16   v0, v26
	102     (0000018c) move-wide/from16     v1, v18
	103     (00000190) invoke-direct        v0, v1, v2, Lorg/webrtc/HardwareVideoEncoder;->requestKeyFrame(J)V

encode-BB@0x196 : [ encode-BB@0x21c ]
	104     (00000196) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getBuffer()Lorg/webrtc/VideoFrame$Buffer;
	105     (0000019c) move-result-object   v4
	106     (0000019e) invoke-interface     v4, Lorg/webrtc/VideoFrame$Buffer;->getHeight()I
	107     (000001a4) move-result          v4
	108     (000001a6) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getBuffer()Lorg/webrtc/VideoFrame$Buffer;
	109     (000001ac) move-result-object   v6
	110     (000001ae) invoke-interface     v6, Lorg/webrtc/VideoFrame$Buffer;->getWidth()I
	111     (000001b4) move-result          v6
	112     (000001b6) mul-int/2addr        v4, v6
	113     (000001b8) mul-int/lit8         v4, v4, 3
	114     (000001bc) div-int/lit8         v7, v4, 2
	115     (000001c0) invoke-static        Lorg/webrtc/EncodedImage;->builder()Lorg/webrtc/EncodedImage$Builder;
	116     (000001c6) move-result-object   v4
	117     (000001c8) move-wide/from16     v0, v18
	118     (000001cc) invoke-virtual       v4, v0, v1, Lorg/webrtc/EncodedImage$Builder;->setCaptureTimeMs(J)Lorg/webrtc/EncodedImage$Builder;
	119     (000001d2) move-result-object   v4
	120     (000001d4) const/4              v6, 1
	121     (000001d6) invoke-virtual       v4, v6, Lorg/webrtc/EncodedImage$Builder;->setCompleteFrame(Z)Lorg/webrtc/EncodedImage$Builder;
	122     (000001dc) move-result-object   v4
	123     (000001de) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getWidth()I
	124     (000001e4) move-result          v6
	125     (000001e6) invoke-virtual       v4, v6, Lorg/webrtc/EncodedImage$Builder;->setEncodedWidth(I)Lorg/webrtc/EncodedImage$Builder;
	126     (000001ec) move-result-object   v4
	127     (000001ee) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getHeight()I
	128     (000001f4) move-result          v6
	129     (000001f6) invoke-virtual       v4, v6, Lorg/webrtc/EncodedImage$Builder;->setEncodedHeight(I)Lorg/webrtc/EncodedImage$Builder;
	130     (000001fc) move-result-object   v4
	131     (000001fe) invoke-virtual/range v27, Lorg/webrtc/VideoFrame;->getRotation()I
	132     (00000204) move-result          v6
	133     (00000206) invoke-virtual       v4, v6, Lorg/webrtc/EncodedImage$Builder;->setRotation(I)Lorg/webrtc/EncodedImage$Builder;
	134     (0000020c) move-result-object   v12
	135     (0000020e) move-object/from16   v0, v26
	136     (00000212) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->outputBuilders Ljava/util/Deque;
	137     (00000216) invoke-interface     v4, v12, Ljava/util/Deque;->offer(Ljava/lang/Object;)Z

encode-BB@0x21c : [ encode-BB@0x10 ]
	138     (0000021c) move-object/from16   v0, v26
	139     (00000220) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->codec Landroid/media/MediaCodec;
	140     (00000224) const/4              v6, 0
	141     (00000226) const/4              v10, 0
	142     (00000228) invoke-virtual/range v4 ... v10, Landroid/media/MediaCodec;->queueInputBuffer(I I I J I)V
	143     (0000022e) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->OK Lorg/webrtc/VideoCodecStatus;
	144     (00000232) goto/16              -111
	21c:22d
	(Ljava/lang/IllegalStateException; -> 236 encode-BB@0x236)

encode-BB@0x236 : [ encode-BB@0x10 ]
	145     (00000236) move-exception       v13
	146     (00000238) const-string         v4, 'HardwareVideoEncoder'
	147     (0000023c) const-string         v6, 'queueInputBuffer failed'
	148     (00000240) invoke-static        v4, v6, v13, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String; Ljava/lang/Throwable;)V
	149     (00000246) move-object/from16   v0, v26
	150     (0000024a) iget-object          v4, v0, Lorg/webrtc/HardwareVideoEncoder;->outputBuilders Ljava/util/Deque;
	151     (0000024e) invoke-interface     v4, Ljava/util/Deque;->pollLast()Ljava/lang/Object;
	152     (00000254) sget-object          v21, Lorg/webrtc/VideoCodecStatus;->FALLBACK_SOFTWARE Lorg/webrtc/VideoCodecStatus;
	153     (00000258) goto/16              -124

