# Lorg/webrtc/HardwareVideoDecoder;->deliverDecodedFrame()V [access_flags=private]
#
# Parameters:
# local registers: v0...v28
#
# - return:void

deliverDecodedFrame-BB@0x0 : [ deliverDecodedFrame-BB@0xe ]
	0       (00000000) move-object/from16   v0, v28
	1       (00000004) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->outputThreadChecker Lorg/webrtc/ThreadUtils$ThreadChecker;
	2       (00000008) invoke-virtual       v4, Lorg/webrtc/ThreadUtils$ThreadChecker;->checkIsOnValidThread()V

deliverDecodedFrame-BB@0xe : [ deliverDecodedFrame-BB@0x3c deliverDecodedFrame-BB@0x58 ]
	3       (0000000e) new-instance         v22, Landroid/media/MediaCodec$BufferInfo;
	4       (00000012) invoke-direct/range  v22, Landroid/media/MediaCodec$BufferInfo;-><init>()V
	5       (00000018) move-object/from16   v0, v28
	6       (0000001c) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->codec Landroid/media/MediaCodec;
	7       (00000020) const-wide/32        v24, 100000 # [100000.0]
	8       (00000026) move-object/from16   v0, v22
	9       (0000002a) move-wide/from16     v1, v24
	10      (0000002e) invoke-virtual       v4, v0, v1, v2, Landroid/media/MediaCodec;->dequeueOutputBuffer(Landroid/media/MediaCodec$BufferInfo; J)I
	11      (00000034) move-result          v6
	12      (00000036) const/4              v4, -2
	13      (00000038) if-ne                v6, v4, +10
	e:8b
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x3c : [ deliverDecodedFrame-BB@0x56 ]
	14      (0000003c) move-object/from16   v0, v28
	15      (00000040) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->codec Landroid/media/MediaCodec;
	16      (00000044) invoke-virtual       v4, Landroid/media/MediaCodec;->getOutputFormat()Landroid/media/MediaFormat;
	17      (0000004a) move-result-object   v4
	18      (0000004c) move-object/from16   v0, v28
	19      (00000050) invoke-direct        v0, v4, Lorg/webrtc/HardwareVideoDecoder;->reformat(Landroid/media/MediaFormat;)V
	e:8b
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x56 : 
	20      (00000056) return-void          
	e:8b
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x58 : [ deliverDecodedFrame-BB@0x5c deliverDecodedFrame-BB@0xa4 ]
	21      (00000058) if-gez               v6, +26
	e:8b
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x5c : [ deliverDecodedFrame-BB@0x56 ]
	22      (0000005c) const-string         v4, 'HardwareVideoDecoder'
	23      (00000060) new-instance         v7, Ljava/lang/StringBuilder;
	24      (00000064) invoke-direct        v7, Ljava/lang/StringBuilder;-><init>()V
	25      (0000006a) const-string         v12, 'dequeueOutputBuffer returned '
	26      (0000006e) invoke-virtual       v7, v12, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	27      (00000074) move-result-object   v7
	28      (00000076) invoke-virtual       v7, v6, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	29      (0000007c) move-result-object   v7
	30      (0000007e) invoke-virtual       v7, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	31      (00000084) move-result-object   v7
	32      (00000086) invoke-static        v4, v7, Lorg/webrtc/Logging;->v(Ljava/lang/String; Ljava/lang/String;)V
	33      (0000008c) goto                 -1b

deliverDecodedFrame-BB@0x8e : [ deliverDecodedFrame-BB@0x56 ]
	34      (0000008e) move-exception       v20
	35      (00000090) const-string         v4, 'HardwareVideoDecoder'
	36      (00000094) const-string         v7, 'deliverDecodedFrame failed'
	37      (00000098) move-object/from16   v0, v20
	38      (0000009c) invoke-static        v4, v7, v0, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String; Ljava/lang/Throwable;)V
	39      (000000a2) goto                 -26

deliverDecodedFrame-BB@0xa4 : [ deliverDecodedFrame-BB@0xc4 deliverDecodedFrame-BB@0xf6 ]
	40      (000000a4) move-object/from16   v0, v28
	41      (000000a8) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->frameInfos Ljava/util/Deque;
	42      (000000ac) invoke-interface     v4, Ljava/util/Deque;->poll()Ljava/lang/Object;
	43      (000000b2) move-result-object   v21
	44      (000000b4) check-cast           v21, Lorg/webrtc/HardwareVideoDecoder$FrameInfo;
	45      (000000b8) const/16             v19, 0
	46      (000000bc) const/16             v23, 0
	47      (000000c0) if-eqz               v21, +1b
	a4:109
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0xc4 : [ deliverDecodedFrame-BB@0xf6 ]
	48      (000000c4) invoke-static        Landroid/os/SystemClock;->elapsedRealtime()J
	49      (000000ca) move-result-wide     v24
	50      (000000cc) move-object/from16   v0, v21
	51      (000000d0) iget-wide            v0, v0, Lorg/webrtc/HardwareVideoDecoder$FrameInfo;->decodeStartTimeMs J
	52      (000000d4) move-wide/from16     v26, v0
	53      (000000d8) sub-long             v24, v24, v26
	54      (000000dc) move-wide/from16     v0, v24
	55      (000000e0) long-to-int          v4, v0
	56      (000000e2) invoke-static        v4, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
	57      (000000e8) move-result-object   v19
	58      (000000ea) move-object/from16   v0, v21
	59      (000000ee) iget                 v0, v0, Lorg/webrtc/HardwareVideoDecoder$FrameInfo;->rotation I
	60      (000000f2) move/from16          v23, v0
	a4:109
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0xf6 : [ deliverDecodedFrame-BB@0x10a ]
	61      (000000f6) const/4              v4, 1
	62      (000000f8) move-object/from16   v0, v28
	63      (000000fc) iput-boolean         v4, v0, Lorg/webrtc/HardwareVideoDecoder;->hasDecodedFirstFrame Z
	64      (00000100) move-object/from16   v0, v28
	65      (00000104) iget-object          v7, v0, Lorg/webrtc/HardwareVideoDecoder;->dimensionLock Ljava/lang/Object;
	66      (00000108) monitor-enter        v7
	a4:109
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x10a : [ deliverDecodedFrame-BB@0x12c ]
	67      (0000010a) move-object/from16   v0, v28
	68      (0000010e) iget                 v10, v0, Lorg/webrtc/HardwareVideoDecoder;->width I
	69      (00000112) move-object/from16   v0, v28
	70      (00000116) iget                 v11, v0, Lorg/webrtc/HardwareVideoDecoder;->height I
	71      (0000011a) move-object/from16   v0, v28
	72      (0000011e) iget                 v8, v0, Lorg/webrtc/HardwareVideoDecoder;->stride I
	73      (00000122) move-object/from16   v0, v28
	74      (00000126) iget                 v9, v0, Lorg/webrtc/HardwareVideoDecoder;->sliceHeight I
	75      (0000012a) monitor-exit         v7
	10a:12b
	(Ljava/lang/Throwable; -> 180 deliverDecodedFrame-BB@0x180)

deliverDecodedFrame-BB@0x12c : [ deliverDecodedFrame-BB@0x144 deliverDecodedFrame-BB@0x186 ]
	76      (0000012c) move-object/from16   v0, v22
	77      (00000130) iget                 v4, v0, Landroid/media/MediaCodec$BufferInfo;->size I
	78      (00000134) mul-int              v7, v10, v11
	79      (00000138) mul-int/lit8         v7, v7, 3
	80      (0000013c) div-int/lit8         v7, v7, 2
	81      (00000140) if-ge                v4, v7, +23
	12c:17b
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x144 : [ deliverDecodedFrame-BB@0x56 ]
	82      (00000144) const-string         v4, 'HardwareVideoDecoder'
	83      (00000148) new-instance         v7, Ljava/lang/StringBuilder;
	84      (0000014c) invoke-direct        v7, Ljava/lang/StringBuilder;-><init>()V
	85      (00000152) const-string         v12, 'Insufficient output buffer size: '
	86      (00000156) invoke-virtual       v7, v12, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	87      (0000015c) move-result-object   v7
	88      (0000015e) move-object/from16   v0, v22
	89      (00000162) iget                 v12, v0, Landroid/media/MediaCodec$BufferInfo;->size I
	90      (00000166) invoke-virtual       v7, v12, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	91      (0000016c) move-result-object   v7
	92      (0000016e) invoke-virtual       v7, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	93      (00000174) move-result-object   v7
	94      (00000176) invoke-static        v4, v7, Lorg/webrtc/Logging;->e(Ljava/lang/String; Ljava/lang/String;)V
	95      (0000017c) goto/16              -93

deliverDecodedFrame-BB@0x180 : [ deliverDecodedFrame-BB@0x182 ]
	96      (00000180) move-exception       v4

deliverDecodedFrame-BB@0x182 : [ deliverDecodedFrame-BB@0x184 ]
	97      (00000182) monitor-exit         v7
	182:183
	(Ljava/lang/Throwable; -> 180 deliverDecodedFrame-BB@0x180)

deliverDecodedFrame-BB@0x184 : 
	98      (00000184) throw                v4
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x186 : [ deliverDecodedFrame-BB@0x19e deliverDecodedFrame-BB@0x1ba ]
	99      (00000186) move-object/from16   v0, v22
	100     (0000018a) iget                 v4, v0, Landroid/media/MediaCodec$BufferInfo;->size I
	101     (0000018e) mul-int              v7, v8, v11
	102     (00000192) mul-int/lit8         v7, v7, 3
	103     (00000196) div-int/lit8         v7, v7, 2
	104     (0000019a) if-ge                v4, v7, +10
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x19e : [ deliverDecodedFrame-BB@0x1a2 deliverDecodedFrame-BB@0x1ba ]
	105     (0000019e) if-ne                v9, v11, +e
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x1a2 : [ deliverDecodedFrame-BB@0x1a6 deliverDecodedFrame-BB@0x1ba ]
	106     (000001a2) if-le                v8, v10, +c
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x1a6 : [ deliverDecodedFrame-BB@0x1ba ]
	107     (000001a6) move-object/from16   v0, v22
	108     (000001aa) iget                 v4, v0, Landroid/media/MediaCodec$BufferInfo;->size I
	109     (000001ae) mul-int/lit8         v4, v4, 2
	110     (000001b2) mul-int/lit8         v7, v11, 3
	111     (000001b6) div-int              v8, v4, v7
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x1ba : [ deliverDecodedFrame-BB@0x1fa deliverDecodedFrame-BB@0x29a ]
	112     (000001ba) move-object/from16   v0, v28
	113     (000001be) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->codec Landroid/media/MediaCodec;
	114     (000001c2) invoke-virtual       v4, Landroid/media/MediaCodec;->getOutputBuffers()[Ljava/nio/ByteBuffer;
	115     (000001c8) move-result-object   v4
	116     (000001ca) aget-object          v5, v4, v6
	117     (000001ce) move-object/from16   v0, v22
	118     (000001d2) iget                 v4, v0, Landroid/media/MediaCodec$BufferInfo;->offset I
	119     (000001d6) invoke-virtual       v5, v4, Ljava/nio/ByteBuffer;->position(I)Ljava/nio/Buffer;
	120     (000001dc) move-object/from16   v0, v22
	121     (000001e0) iget                 v4, v0, Landroid/media/MediaCodec$BufferInfo;->size I
	122     (000001e4) invoke-virtual       v5, v4, Ljava/nio/ByteBuffer;->limit(I)Ljava/nio/Buffer;
	123     (000001ea) move-object/from16   v0, v28
	124     (000001ee) iget                 v4, v0, Lorg/webrtc/HardwareVideoDecoder;->colorFormat I
	125     (000001f2) const/16             v7, 19
	126     (000001f6) if-ne                v4, v7, +52
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x1fa : [ deliverDecodedFrame-BB@0x202 deliverDecodedFrame-BB@0x260 ]
	127     (000001fa) rem-int/lit8         v4, v9, 2
	128     (000001fe) if-nez               v4, +31
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x202 : [ deliverDecodedFrame-BB@0x216 ]
	129     (00000202) move-object/from16   v0, v22
	130     (00000206) iget                 v7, v0, Landroid/media/MediaCodec$BufferInfo;->offset I
	131     (0000020a) move-object/from16   v4, v28
	132     (0000020e) invoke-direct/range  v4 ... v11, Lorg/webrtc/HardwareVideoDecoder;->createBufferFromI420(Ljava/nio/ByteBuffer; I I I I I I)Lorg/webrtc/VideoFrame$I420Buffer;
	133     (00000214) move-result-object   v14
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x216 : [ deliverDecodedFrame-BB@0x56 ]
	134     (00000216) move-object/from16   v0, v22
	135     (0000021a) iget-wide            v0, v0, Landroid/media/MediaCodec$BufferInfo;->presentationTimeUs J
	136     (0000021e) move-wide/from16     v24, v0
	137     (00000222) const-wide/16        v26, 1000 # [1000.0]
	138     (00000226) mul-long             v16, v24, v26
	139     (0000022a) new-instance         v13, Lorg/webrtc/VideoFrame;
	140     (0000022e) new-instance         v18, Landroid/graphics/Matrix;
	141     (00000232) invoke-direct/range  v18, Landroid/graphics/Matrix;-><init>()V
	142     (00000238) move/from16          v15, v23
	143     (0000023c) invoke-direct/range  v13 ... v18, Lorg/webrtc/VideoFrame;-><init>(Lorg/webrtc/VideoFrame$Buffer; I J Landroid/graphics/Matrix;)V
	144     (00000242) move-object/from16   v0, v28
	145     (00000246) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->callback Lorg/webrtc/VideoDecoder$Callback;
	146     (0000024a) const/4              v7, 0
	147     (0000024c) move-object/from16   v0, v19
	148     (00000250) invoke-interface     v4, v13, v0, v7, Lorg/webrtc/VideoDecoder$Callback;->onDecodedFrame(Lorg/webrtc/VideoFrame; Ljava/lang/Integer; Ljava/lang/Integer;)V
	149     (00000256) invoke-virtual       v13, Lorg/webrtc/VideoFrame;->release()V
	150     (0000025c) goto/16              -103
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x260 : [ deliverDecodedFrame-BB@0x216 ]
	151     (00000260) new-instance         v14, Lorg/webrtc/I420BufferImpl;
	152     (00000264) invoke-direct        v14, v10, v11, Lorg/webrtc/I420BufferImpl;-><init>(I I)V
	153     (0000026a) move-object/from16   v0, v22
	154     (0000026e) iget                 v13, v0, Landroid/media/MediaCodec$BufferInfo;->offset I
	155     (00000272) move-object          v12, v5
	156     (00000274) move                 v15, v8
	157     (00000276) move/from16          v16, v9
	158     (0000027a) move/from16          v17, v10
	159     (0000027e) move/from16          v18, v11
	160     (00000282) invoke-static/range  v12 ... v18, Lorg/webrtc/HardwareVideoDecoder;->copyI420(Ljava/nio/ByteBuffer; I Lorg/webrtc/VideoFrame$I420Buffer; I I I I)V
	161     (00000288) move-object/from16   v0, v28
	162     (0000028c) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->codec Landroid/media/MediaCodec;
	163     (00000290) const/4              v7, 0
	164     (00000292) invoke-virtual       v4, v6, v7, Landroid/media/MediaCodec;->releaseOutputBuffer(I Z)V
	165     (00000298) goto                 -41
	184:2d1
	(Ljava/lang/IllegalStateException; -> 8e deliverDecodedFrame-BB@0x8e)

deliverDecodedFrame-BB@0x29a : [ deliverDecodedFrame-BB@0x216 ]
	166     (0000029a) new-instance         v14, Lorg/webrtc/I420BufferImpl;
	167     (0000029e) invoke-direct        v14, v10, v11, Lorg/webrtc/I420BufferImpl;-><init>(I I)V
	168     (000002a4) move-object/from16   v0, v22
	169     (000002a8) iget                 v13, v0, Landroid/media/MediaCodec$BufferInfo;->offset I
	170     (000002ac) move-object          v12, v5
	171     (000002ae) move                 v15, v8
	172     (000002b0) move/from16          v16, v9
	173     (000002b4) move/from16          v17, v10
	174     (000002b8) move/from16          v18, v11
	175     (000002bc) invoke-static/range  v12 ... v18, Lorg/webrtc/HardwareVideoDecoder;->nv12ToI420(Ljava/nio/ByteBuffer; I Lorg/webrtc/VideoFrame$I420Buffer; I I I I)V
	176     (000002c2) move-object/from16   v0, v28
	177     (000002c6) iget-object          v4, v0, Lorg/webrtc/HardwareVideoDecoder;->codec Landroid/media/MediaCodec;
	178     (000002ca) const/4              v7, 0
	179     (000002cc) invoke-virtual       v4, v6, v7, Landroid/media/MediaCodec;->releaseOutputBuffer(I Z)V
	180     (000002d2) goto                 -5e

