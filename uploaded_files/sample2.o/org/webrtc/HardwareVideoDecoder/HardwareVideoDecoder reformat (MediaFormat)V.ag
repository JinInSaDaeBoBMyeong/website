# Lorg/webrtc/HardwareVideoDecoder;->reformat(Landroid/media/MediaFormat;)V [access_flags=private]
#
# Parameters:
# - local registers: v0...v6
# - v7:android.media.MediaFormat
#
# - return:void

reformat-BB@0x0 : [ reformat-BB@0x52 reformat-BB@0x15e ]
	0       (00000000) iget-object          v2, v6, Lorg/webrtc/HardwareVideoDecoder;->outputThreadChecker Lorg/webrtc/ThreadUtils$ThreadChecker;
	1       (00000004) invoke-virtual       v2, Lorg/webrtc/ThreadUtils$ThreadChecker;->checkIsOnValidThread()V
	2       (0000000a) const-string         v2, 'HardwareVideoDecoder'
	3       (0000000e) new-instance         v3, Ljava/lang/StringBuilder;
	4       (00000012) invoke-direct        v3, Ljava/lang/StringBuilder;-><init>()V
	5       (00000018) const-string         v4, 'Decoder format changed: '
	6       (0000001c) invoke-virtual       v3, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	7       (00000022) move-result-object   v3
	8       (00000024) invoke-virtual       v7, Landroid/media/MediaFormat;->toString()Ljava/lang/String;
	9       (0000002a) move-result-object   v4
	10      (0000002c) invoke-virtual       v3, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	11      (00000032) move-result-object   v3
	12      (00000034) invoke-virtual       v3, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	13      (0000003a) move-result-object   v3
	14      (0000003c) invoke-static        v2, v3, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V
	15      (00000042) const-string         v2, 'crop-left'
	16      (00000046) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	17      (0000004c) move-result          v2
	18      (0000004e) if-eqz               v2, +88

reformat-BB@0x52 : [ reformat-BB@0x62 reformat-BB@0x15e ]
	19      (00000052) const-string         v2, 'crop-right'
	20      (00000056) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	21      (0000005c) move-result          v2
	22      (0000005e) if-eqz               v2, +80

reformat-BB@0x62 : [ reformat-BB@0x72 reformat-BB@0x15e ]
	23      (00000062) const-string         v2, 'crop-bottom'
	24      (00000066) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	25      (0000006c) move-result          v2
	26      (0000006e) if-eqz               v2, +78

reformat-BB@0x72 : [ reformat-BB@0x82 reformat-BB@0x15e ]
	27      (00000072) const-string         v2, 'crop-top'
	28      (00000076) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	29      (0000007c) move-result          v2
	30      (0000007e) if-eqz               v2, +70

reformat-BB@0x82 : [ reformat-BB@0xc2 ]
	31      (00000082) const-string         v2, 'crop-right'
	32      (00000086) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	33      (0000008c) move-result          v2
	34      (0000008e) add-int/lit8         v2, v2, 1
	35      (00000092) const-string         v3, 'crop-left'
	36      (00000096) invoke-virtual       v7, v3, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	37      (0000009c) move-result          v3
	38      (0000009e) sub-int              v1, v2, v3
	39      (000000a2) const-string         v2, 'crop-bottom'
	40      (000000a6) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	41      (000000ac) move-result          v2
	42      (000000ae) add-int/lit8         v2, v2, 1
	43      (000000b2) const-string         v3, 'crop-top'
	44      (000000b6) invoke-virtual       v7, v3, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	45      (000000bc) move-result          v3
	46      (000000be) sub-int              v0, v2, v3

reformat-BB@0xc2 : [ reformat-BB@0xc8 ]
	47      (000000c2) iget-object          v3, v6, Lorg/webrtc/HardwareVideoDecoder;->dimensionLock Ljava/lang/Object;
	48      (000000c6) monitor-enter        v3

reformat-BB@0xc8 : [ reformat-BB@0xd0 reformat-BB@0x178 ]
	49      (000000c8) iget-boolean         v2, v6, Lorg/webrtc/HardwareVideoDecoder;->hasDecodedFirstFrame Z
	50      (000000cc) if-eqz               v2, +56
	c8:15b
	(Ljava/lang/Throwable; -> 22a reformat-BB@0x22a)

reformat-BB@0xd0 : [ reformat-BB@0xd8 reformat-BB@0xe0 ]
	51      (000000d0) iget                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->width I
	52      (000000d4) if-ne                v2, v1, +6
	c8:15b
	(Ljava/lang/Throwable; -> 22a reformat-BB@0x22a)

reformat-BB@0xd8 : [ reformat-BB@0xe0 reformat-BB@0x178 ]
	53      (000000d8) iget                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->height I
	54      (000000dc) if-eq                v2, v0, +4e
	c8:15b
	(Ljava/lang/Throwable; -> 22a reformat-BB@0x22a)

reformat-BB@0xe0 : [ reformat-BB@0x15c ]
	55      (000000e0) new-instance         v2, Ljava/lang/RuntimeException;
	56      (000000e4) new-instance         v4, Ljava/lang/StringBuilder;
	57      (000000e8) invoke-direct        v4, Ljava/lang/StringBuilder;-><init>()V
	58      (000000ee) const-string         v5, 'Unexpected size change. Configured '
	59      (000000f2) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	60      (000000f8) move-result-object   v4
	61      (000000fa) iget                 v5, v6, Lorg/webrtc/HardwareVideoDecoder;->width I
	62      (000000fe) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	63      (00000104) move-result-object   v4
	64      (00000106) const-string         v5, '*'
	65      (0000010a) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	66      (00000110) move-result-object   v4
	67      (00000112) iget                 v5, v6, Lorg/webrtc/HardwareVideoDecoder;->height I
	68      (00000116) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	69      (0000011c) move-result-object   v4
	70      (0000011e) const-string         v5, '. New '
	71      (00000122) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	72      (00000128) move-result-object   v4
	73      (0000012a) invoke-virtual       v4, v1, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	74      (00000130) move-result-object   v4
	75      (00000132) const-string         v5, '*'
	76      (00000136) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	77      (0000013c) move-result-object   v4
	78      (0000013e) invoke-virtual       v4, v0, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	79      (00000144) move-result-object   v4
	80      (00000146) invoke-virtual       v4, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	81      (0000014c) move-result-object   v4
	82      (0000014e) invoke-direct        v2, v4, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
	83      (00000154) invoke-direct        v6, v2, Lorg/webrtc/HardwareVideoDecoder;->stopOnOutputThread(Ljava/lang/Exception;)V
	84      (0000015a) monitor-exit         v3
	c8:15b
	(Ljava/lang/Throwable; -> 22a reformat-BB@0x22a)

reformat-BB@0x15c : 
	85      (0000015c) return-void          

reformat-BB@0x15e : [ reformat-BB@0xc2 ]
	86      (0000015e) const-string         v2, 'width'
	87      (00000162) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	88      (00000168) move-result          v1
	89      (0000016a) const-string         v2, 'height'
	90      (0000016e) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	91      (00000174) move-result          v0
	92      (00000176) goto                 -5a

reformat-BB@0x178 : [ reformat-BB@0x192 reformat-BB@0x230 ]
	93      (00000178) iput                 v1, v6, Lorg/webrtc/HardwareVideoDecoder;->width I
	94      (0000017c) iput                 v0, v6, Lorg/webrtc/HardwareVideoDecoder;->height I
	95      (00000180) monitor-exit         v3
	96      (00000182) const-string         v2, 'color-format'
	97      (00000186) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	98      (0000018c) move-result          v2
	99      (0000018e) if-eqz               v2, +51
	178:181
	(Ljava/lang/Throwable; -> 22a reformat-BB@0x22a)

reformat-BB@0x192 : [ reformat-BB@0x1ee reformat-BB@0x230 ]
	100     (00000192) const-string         v2, 'color-format'
	101     (00000196) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	102     (0000019c) move-result          v2
	103     (0000019e) iput                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->colorFormat I
	104     (000001a2) const-string         v2, 'HardwareVideoDecoder'
	105     (000001a6) new-instance         v3, Ljava/lang/StringBuilder;
	106     (000001aa) invoke-direct        v3, Ljava/lang/StringBuilder;-><init>()V
	107     (000001b0) const-string         v4, 'Color: 0x'
	108     (000001b4) invoke-virtual       v3, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	109     (000001ba) move-result-object   v3
	110     (000001bc) iget                 v4, v6, Lorg/webrtc/HardwareVideoDecoder;->colorFormat I
	111     (000001c0) invoke-static        v4, Ljava/lang/Integer;->toHexString(I)Ljava/lang/String;
	112     (000001c6) move-result-object   v4
	113     (000001c8) invoke-virtual       v3, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	114     (000001ce) move-result-object   v3
	115     (000001d0) invoke-virtual       v3, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	116     (000001d6) move-result-object   v3
	117     (000001d8) invoke-static        v2, v3, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V
	118     (000001de) iget                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->colorFormat I
	119     (000001e2) invoke-direct        v6, v2, Lorg/webrtc/HardwareVideoDecoder;->isSupportedColorFormat(I)Z
	120     (000001e8) move-result          v2
	121     (000001ea) if-nez               v2, +23

reformat-BB@0x1ee : [ reformat-BB@0x15c ]
	122     (000001ee) new-instance         v2, Ljava/lang/IllegalStateException;
	123     (000001f2) new-instance         v3, Ljava/lang/StringBuilder;
	124     (000001f6) invoke-direct        v3, Ljava/lang/StringBuilder;-><init>()V
	125     (000001fc) const-string         v4, 'Unsupported color format: '
	126     (00000200) invoke-virtual       v3, v4, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	127     (00000206) move-result-object   v3
	128     (00000208) iget                 v4, v6, Lorg/webrtc/HardwareVideoDecoder;->colorFormat I
	129     (0000020c) invoke-virtual       v3, v4, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	130     (00000212) move-result-object   v3
	131     (00000214) invoke-virtual       v3, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	132     (0000021a) move-result-object   v3
	133     (0000021c) invoke-direct        v2, v3, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V
	134     (00000222) invoke-direct        v6, v2, Lorg/webrtc/HardwareVideoDecoder;->stopOnOutputThread(Ljava/lang/Exception;)V
	135     (00000228) goto                 -66

reformat-BB@0x22a : [ reformat-BB@0x22c ]
	136     (0000022a) move-exception       v2

reformat-BB@0x22c : 
	137     (0000022c) monitor-exit         v3
	138     (0000022e) throw                v2
	22c:22d
	(Ljava/lang/Throwable; -> 22a reformat-BB@0x22a)

reformat-BB@0x230 : [ reformat-BB@0x236 ]
	139     (00000230) iget-object          v3, v6, Lorg/webrtc/HardwareVideoDecoder;->dimensionLock Ljava/lang/Object;
	140     (00000234) monitor-enter        v3

reformat-BB@0x236 : [ reformat-BB@0x246 reformat-BB@0x256 ]
	141     (00000236) const-string         v2, 'stride'
	142     (0000023a) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	143     (00000240) move-result          v2
	144     (00000242) if-eqz               v2, +a
	236:2f3
	(Ljava/lang/Throwable; -> 2f0 reformat-BB@0x2f0)

reformat-BB@0x246 : [ reformat-BB@0x256 ]
	145     (00000246) const-string         v2, 'stride'
	146     (0000024a) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	147     (00000250) move-result          v2
	148     (00000252) iput                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->stride I
	236:2f3
	(Ljava/lang/Throwable; -> 2f0 reformat-BB@0x2f0)

reformat-BB@0x256 : [ reformat-BB@0x266 reformat-BB@0x276 ]
	149     (00000256) const-string         v2, 'slice-height'
	150     (0000025a) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->containsKey(Ljava/lang/String;)Z
	151     (00000260) move-result          v2
	152     (00000262) if-eqz               v2, +a
	236:2f3
	(Ljava/lang/Throwable; -> 2f0 reformat-BB@0x2f0)

reformat-BB@0x266 : [ reformat-BB@0x276 ]
	153     (00000266) const-string         v2, 'slice-height'
	154     (0000026a) invoke-virtual       v7, v2, Landroid/media/MediaFormat;->getInteger(Ljava/lang/String;)I
	155     (00000270) move-result          v2
	156     (00000272) iput                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->sliceHeight I
	236:2f3
	(Ljava/lang/Throwable; -> 2f0 reformat-BB@0x2f0)

reformat-BB@0x276 : [ reformat-BB@0x15c ]
	157     (00000276) const-string         v2, 'HardwareVideoDecoder'
	158     (0000027a) new-instance         v4, Ljava/lang/StringBuilder;
	159     (0000027e) invoke-direct        v4, Ljava/lang/StringBuilder;-><init>()V
	160     (00000284) const-string         v5, 'Frame stride and slice height: '
	161     (00000288) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	162     (0000028e) move-result-object   v4
	163     (00000290) iget                 v5, v6, Lorg/webrtc/HardwareVideoDecoder;->stride I
	164     (00000294) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	165     (0000029a) move-result-object   v4
	166     (0000029c) const-string         v5, ' x '
	167     (000002a0) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	168     (000002a6) move-result-object   v4
	169     (000002a8) iget                 v5, v6, Lorg/webrtc/HardwareVideoDecoder;->sliceHeight I
	170     (000002ac) invoke-virtual       v4, v5, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	171     (000002b2) move-result-object   v4
	172     (000002b4) invoke-virtual       v4, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	173     (000002ba) move-result-object   v4
	174     (000002bc) invoke-static        v2, v4, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V
	175     (000002c2) iget                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->width I
	176     (000002c6) iget                 v4, v6, Lorg/webrtc/HardwareVideoDecoder;->stride I
	177     (000002ca) invoke-static        v2, v4, Ljava/lang/Math;->max(I I)I
	178     (000002d0) move-result          v2
	179     (000002d2) iput                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->stride I
	180     (000002d6) iget                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->height I
	181     (000002da) iget                 v4, v6, Lorg/webrtc/HardwareVideoDecoder;->sliceHeight I
	182     (000002de) invoke-static        v2, v4, Ljava/lang/Math;->max(I I)I
	183     (000002e4) move-result          v2
	184     (000002e6) iput                 v2, v6, Lorg/webrtc/HardwareVideoDecoder;->sliceHeight I
	185     (000002ea) monitor-exit         v3
	186     (000002ec) goto/16              -c8
	236:2f3
	(Ljava/lang/Throwable; -> 2f0 reformat-BB@0x2f0)

reformat-BB@0x2f0 : 
	187     (000002f0) move-exception       v2
	188     (000002f2) monitor-exit         v3
	189     (000002f4) throw                v2

