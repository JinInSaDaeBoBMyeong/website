# Lorg/webrtc/voiceengine/WebRtcAudioRecord;->initRecording(I I)I [access_flags=private]
#
# Parameters:
# - local registers: v0...v12
# - v13:int
# - v14:int
#
# - return:int

initRecording-BB@0x0 : [ initRecording-BB@0x72 initRecording-BB@0x80 ]
	0       (00000000) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->threadChecker Lorg/webrtc/ThreadUtils$ThreadChecker;
	1       (00000004) invoke-virtual       v0, Lorg/webrtc/ThreadUtils$ThreadChecker;->checkIsOnValidThread()V
	2       (0000000a) const-string         v0, 'WebRtcAudioRecord'
	3       (0000000e) new-instance         v1, Ljava/lang/StringBuilder;
	4       (00000012) invoke-direct        v1, Ljava/lang/StringBuilder;-><init>()V
	5       (00000018) const-string         v2, 'initRecording(sampleRate='
	6       (0000001c) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	7       (00000022) move-result-object   v1
	8       (00000024) invoke-virtual       v1, v13, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	9       (0000002a) move-result-object   v1
	10      (0000002c) const-string         v2, ', channels='
	11      (00000030) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	12      (00000036) move-result-object   v1
	13      (00000038) invoke-virtual       v1, v14, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	14      (0000003e) move-result-object   v1
	15      (00000040) const-string         v2, ')'
	16      (00000044) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	17      (0000004a) move-result-object   v1
	18      (0000004c) invoke-virtual       v1, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	19      (00000052) move-result-object   v1
	20      (00000054) invoke-static        v0, v1, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V
	21      (0000005a) invoke-static        Lorg/webrtc/ContextUtils;->getApplicationContext()Landroid/content/Context;
	22      (00000060) move-result-object   v0
	23      (00000062) const-string         v1, 'android.permission.RECORD_AUDIO'
	24      (00000066) invoke-static        v0, v1, Lorg/webrtc/voiceengine/WebRtcAudioUtils;->hasPermission(Landroid/content/Context; Ljava/lang/String;)Z
	25      (0000006c) move-result          v0
	26      (0000006e) if-nez               v0, +9

initRecording-BB@0x72 : [ initRecording-BB@0x7e ]
	27      (00000072) const-string         v0, 'RECORD_AUDIO permission is missing'
	28      (00000076) invoke-direct        v12, v0, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->reportWebRtcAudioRecordInitError(Ljava/lang/String;)V
	29      (0000007c) const/4              v8, -1

initRecording-BB@0x7e : 
	30      (0000007e) return               v8

initRecording-BB@0x80 : [ initRecording-BB@0x88 initRecording-BB@0x96 ]
	31      (00000080) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->audioRecord Landroid/media/AudioRecord;
	32      (00000084) if-eqz               v0, +9

initRecording-BB@0x88 : [ initRecording-BB@0x7e ]
	33      (00000088) const-string         v0, 'InitRecording called twice without StopRecording.'
	34      (0000008c) invoke-direct        v12, v0, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->reportWebRtcAudioRecordInitError(Ljava/lang/String;)V
	35      (00000092) const/4              v8, -1
	36      (00000094) goto                 -b

initRecording-BB@0x96 : [ initRecording-BB@0x124 initRecording-BB@0x12a ]
	37      (00000096) mul-int/lit8         v6, v14, 2
	38      (0000009a) div-int/lit8         v8, v13, 100
	39      (0000009e) mul-int              v0, v6, v8
	40      (000000a2) invoke-static        v0, Ljava/nio/ByteBuffer;->allocateDirect(I)Ljava/nio/ByteBuffer;
	41      (000000a8) move-result-object   v0
	42      (000000aa) iput-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->byteBuffer Ljava/nio/ByteBuffer;
	43      (000000ae) const-string         v0, 'WebRtcAudioRecord'
	44      (000000b2) new-instance         v1, Ljava/lang/StringBuilder;
	45      (000000b6) invoke-direct        v1, Ljava/lang/StringBuilder;-><init>()V
	46      (000000bc) const-string         v2, 'byteBuffer.capacity: '
	47      (000000c0) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	48      (000000c6) move-result-object   v1
	49      (000000c8) iget-object          v2, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->byteBuffer Ljava/nio/ByteBuffer;
	50      (000000cc) invoke-virtual       v2, Ljava/nio/ByteBuffer;->capacity()I
	51      (000000d2) move-result          v2
	52      (000000d4) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	53      (000000da) move-result-object   v1
	54      (000000dc) invoke-virtual       v1, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	55      (000000e2) move-result-object   v1
	56      (000000e4) invoke-static        v0, v1, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V
	57      (000000ea) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->byteBuffer Ljava/nio/ByteBuffer;
	58      (000000ee) invoke-virtual       v0, Ljava/nio/ByteBuffer;->capacity()I
	59      (000000f4) move-result          v0
	60      (000000f6) new-array            v0, v0, [B
	61      (000000fa) iput-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->emptyBytes [B
	62      (000000fe) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->byteBuffer Ljava/nio/ByteBuffer;
	63      (00000102) iget-wide            v10, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->nativeAudioRecord J
	64      (00000106) invoke-direct        v12, v0, v10, v11, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->nativeCacheDirectBufferAddress(Ljava/nio/ByteBuffer; J)V
	65      (0000010c) invoke-direct        v12, v14, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->channelCountToConfiguration(I)I
	66      (00000112) move-result          v3
	67      (00000114) const/4              v0, 2
	68      (00000116) invoke-static        v13, v3, v0, Landroid/media/AudioRecord;->getMinBufferSize(I I I)I
	69      (0000011c) move-result          v9
	70      (0000011e) const/4              v0, -1
	71      (00000120) if-eq                v9, v0, +5

initRecording-BB@0x124 : [ initRecording-BB@0x12a initRecording-BB@0x15a ]
	72      (00000124) const/4              v0, -2
	73      (00000126) if-ne                v9, v0, +1a

initRecording-BB@0x12a : [ initRecording-BB@0x7e ]
	74      (0000012a) new-instance         v0, Ljava/lang/StringBuilder;
	75      (0000012e) invoke-direct        v0, Ljava/lang/StringBuilder;-><init>()V
	76      (00000134) const-string         v1, 'AudioRecord.getMinBufferSize failed: '
	77      (00000138) invoke-virtual       v0, v1, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	78      (0000013e) move-result-object   v0
	79      (00000140) invoke-virtual       v0, v9, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	80      (00000146) move-result-object   v0
	81      (00000148) invoke-virtual       v0, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	82      (0000014e) move-result-object   v0
	83      (00000150) invoke-direct        v12, v0, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->reportWebRtcAudioRecordInitError(Ljava/lang/String;)V
	84      (00000156) const/4              v8, -1
	85      (00000158) goto                 -6d

initRecording-BB@0x15a : [ initRecording-BB@0x1d2 ]
	86      (0000015a) const-string         v0, 'WebRtcAudioRecord'
	87      (0000015e) new-instance         v1, Ljava/lang/StringBuilder;
	88      (00000162) invoke-direct        v1, Ljava/lang/StringBuilder;-><init>()V
	89      (00000168) const-string         v2, 'AudioRecord.getMinBufferSize: '
	90      (0000016c) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	91      (00000172) move-result-object   v1
	92      (00000174) invoke-virtual       v1, v9, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	93      (0000017a) move-result-object   v1
	94      (0000017c) invoke-virtual       v1, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	95      (00000182) move-result-object   v1
	96      (00000184) invoke-static        v0, v1, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V
	97      (0000018a) mul-int/lit8         v0, v9, 2
	98      (0000018e) iget-object          v1, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->byteBuffer Ljava/nio/ByteBuffer;
	99      (00000192) invoke-virtual       v1, Ljava/nio/ByteBuffer;->capacity()I
	100     (00000198) move-result          v1
	101     (0000019a) invoke-static        v0, v1, Ljava/lang/Math;->max(I I)I
	102     (000001a0) move-result          v5
	103     (000001a2) const-string         v0, 'WebRtcAudioRecord'
	104     (000001a6) new-instance         v1, Ljava/lang/StringBuilder;
	105     (000001aa) invoke-direct        v1, Ljava/lang/StringBuilder;-><init>()V
	106     (000001b0) const-string         v2, 'bufferSizeInBytes: '
	107     (000001b4) invoke-virtual       v1, v2, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	108     (000001ba) move-result-object   v1
	109     (000001bc) invoke-virtual       v1, v5, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
	110     (000001c2) move-result-object   v1
	111     (000001c4) invoke-virtual       v1, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	112     (000001ca) move-result-object   v1
	113     (000001cc) invoke-static        v0, v1, Lorg/webrtc/Logging;->d(Ljava/lang/String; Ljava/lang/String;)V

initRecording-BB@0x1d2 : [ initRecording-BB@0x1ee initRecording-BB@0x200 ]
	114     (000001d2) new-instance         v0, Landroid/media/AudioRecord;
	115     (000001d6) const/4              v1, 7
	116     (000001d8) const/4              v4, 2
	117     (000001da) move                 v2, v13
	118     (000001dc) invoke-direct/range  v0 ... v5, Landroid/media/AudioRecord;-><init>(I I I I I)V
	119     (000001e2) iput-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->audioRecord Landroid/media/AudioRecord;
	120     (000001e6) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->audioRecord Landroid/media/AudioRecord;
	121     (000001ea) if-eqz               v0, +b
	1d2:1e5
	(Ljava/lang/IllegalArgumentException; -> 216 initRecording-BB@0x216)

initRecording-BB@0x1ee : [ initRecording-BB@0x200 initRecording-BB@0x258 ]
	122     (000001ee) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->audioRecord Landroid/media/AudioRecord;
	123     (000001f2) invoke-virtual       v0, Landroid/media/AudioRecord;->getState()I
	124     (000001f8) move-result          v0
	125     (000001fa) const/4              v1, 1
	126     (000001fc) if-eq                v0, v1, +2e

initRecording-BB@0x200 : [ initRecording-BB@0x7e ]
	127     (00000200) const-string         v0, 'Failed to create a new AudioRecord instance'
	128     (00000204) invoke-direct        v12, v0, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->reportWebRtcAudioRecordInitError(Ljava/lang/String;)V
	129     (0000020a) invoke-direct        v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->releaseAudioResources()V
	130     (00000210) const/4              v8, -1
	131     (00000212) goto/16              -ca

initRecording-BB@0x216 : [ initRecording-BB@0x7e ]
	132     (00000216) move-exception       v7
	133     (00000218) new-instance         v0, Ljava/lang/StringBuilder;
	134     (0000021c) invoke-direct        v0, Ljava/lang/StringBuilder;-><init>()V
	135     (00000222) const-string         v1, 'AudioRecord ctor error: '
	136     (00000226) invoke-virtual       v0, v1, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	137     (0000022c) move-result-object   v0
	138     (0000022e) invoke-virtual       v7, Ljava/lang/IllegalArgumentException;->getMessage()Ljava/lang/String;
	139     (00000234) move-result-object   v1
	140     (00000236) invoke-virtual       v0, v1, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
	141     (0000023c) move-result-object   v0
	142     (0000023e) invoke-virtual       v0, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
	143     (00000244) move-result-object   v0
	144     (00000246) invoke-direct        v12, v0, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->reportWebRtcAudioRecordInitError(Ljava/lang/String;)V
	145     (0000024c) invoke-direct        v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->releaseAudioResources()V
	146     (00000252) const/4              v8, -1
	147     (00000254) goto/16              -eb

initRecording-BB@0x258 : [ initRecording-BB@0x260 initRecording-BB@0x276 ]
	148     (00000258) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->effects Lorg/webrtc/voiceengine/WebRtcAudioEffects;
	149     (0000025c) if-eqz               v0, +d

initRecording-BB@0x260 : [ initRecording-BB@0x276 ]
	150     (00000260) iget-object          v0, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->effects Lorg/webrtc/voiceengine/WebRtcAudioEffects;
	151     (00000264) iget-object          v1, v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->audioRecord Landroid/media/AudioRecord;
	152     (00000268) invoke-virtual       v1, Landroid/media/AudioRecord;->getAudioSessionId()I
	153     (0000026e) move-result          v1
	154     (00000270) invoke-virtual       v0, v1, Lorg/webrtc/voiceengine/WebRtcAudioEffects;->enable(I)V

initRecording-BB@0x276 : [ initRecording-BB@0x7e ]
	155     (00000276) invoke-direct        v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->logMainParameters()V
	156     (0000027c) invoke-direct        v12, Lorg/webrtc/voiceengine/WebRtcAudioRecord;->logMainParametersExtended()V
	157     (00000282) goto/16              -102

